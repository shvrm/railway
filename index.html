<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>Train</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v0.1.0/mapbox-gl-geocoder.css' type='text/css' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.12.4/mapbox-gl.js'></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v0.1.0/mapbox-gl-geocoder.js'></script>
 
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.12.4/mapbox-gl.css' rel='stylesheet' />
    <link href='https://www.mapbox.com/base/latest/base.css' rel='stylesheet' />
    <link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.9/mapbox.css' rel='stylesheet' />
    <link href='css/style.css' rel='stylesheet' />

   
</head>
<body>
	
	</style>
<div id='map'></div>

		  <div class='rounded-toggle inline pin-bottom left'>
			  <input id='infoToggle' class='infoToggler' type='radio' name='rtoggle' value='infoToggle' checked='checked' onclick = "showhide();">
			  <label for='infoToggle' class="toggleLabel"  ><b>i</b></label>
			 <!--  <input id='NY' class='cityInput' type='radio' name='rtoggle' value='NY' checked='checked' onclick="fly(NY);">
			  <label for='NY' class='cityLabel'>Grand Central, New York</label>
			  <input id='London' class='cityInput' type='radio' name='rtoggle' value='London' checked='checked' onclick="fly(London);">
			  <label for='London' class='cityLabel'>St. Pancras, London</label>
			  <input id='Japan' class='cityInput' type='radio' name='rtoggle' value='Japan' checked='checked' onclick="fly(Japan);">
			  <label for='Japan' class='cityLabel'>Yokohama, Japan</label> -->
			 
		     </div>
		 

</div>
<!-- <div class="round-button inline pin-bottom left"><div class="round-button-circle"><a href="http://example.com" class="round-button">Button!!</a></div></div>
</div> -->

 <aside id="sidebar" class="right" style="display:none;">
 <!-- <button class="right button"><a href='#' class='button rcon next'></a></button> -->
 <div class="info" class="left">
<h1>Railway Tracks & Stations Around the World</h1>
<p>The map shows worldwide coverage of railway stations, and tracks from OpenStreetMap. See if the stations you commute to/from is on OpenStreetMap, and who contributed this information.</p>
     <div class="pad1y">
         <a href="https://www.mapbox.com/jobs/map-analyst-blr/">We're hiring! </a>
         Check for updates on our <a href="https://www.facebook.com/Mapboxblr/?fref=ts">Facebook page</a> and our <a href="https://twitter.com/mapbox">Twitter</a> handle.
     </div>

    
    
		  <label for='Mumbai' class='cityLabel' onclick="fly(Mumbai);">Victoria Terminus, Mumbai</label>
		  <br/>
		  <label for='NY' class='cityLabel' onclick="fly(NY);">Grand Central, New York</label>
		  <br/>
		  <label for='London' class='cityLabel' onclick="fly(London);">St. Pancras, London</label>
		  <br/>
		  <label for='Japan' class='cityLabel' onclick="fly(Japan);">Yokohama, Japan</label>
		  </div>

  

</aside>
<br/>

<script >
mapboxgl.accessToken = 'pk.eyJ1IjoicmFtYXMiLCJhIjoiUFdJckNoOCJ9.LGJOlhJCLddj5fk5da6ZjQ';
	var map = new mapboxgl.Map({
		container: 'map',
		style: 'mapbox://styles/ramas/cijqw7bi20068bpm3h601g5op',
		center: [35.96, 11.70],
		zoom: 2.5
	});

	var Mumbai = [72.889095,19.039176];
	var NY = [-73.976874,40.755964];
	var London = [-0.125,51.53];
	var Japan = [139.622836,35.465444]; 

	function fly(city) {
    
    	map.flyTo({
        	center: city,
			zoom: 13.1,
			speed:0.3,
			curve:2,
			pitch:50,
			bearing:0
	});
}

// $('#Mumbai').click(function() {
//   $('#sidebar').toggle('slow', function() {
//     // Animation complete.
//   });
// });

function showhide()
 {
       var div = document.getElementById("sidebar");
if (div.style.display !== "none") {
    div.style.display = "none";
}
else {
    div.style.display = "block";
}
 }


map.on('click', function (e) {
	
	map.featuresAt(e.point, {
		radius: 10,
		layer: ['railwaystation copy'],
		includeGeometry: true
			}, function (err, features) {
				if (err) throw err;

				if (features.length > 0) {

					var popupHTML = '<h5>' + features[0].properties.name + '</h5><p>'+ '</p>'+  "OSM contributor: "+ '<a href="http://www.openstreetmap.org/user/' + features[0].properties._user +'">' +features[0].properties._user+"</a>" ;

					var popup = new mapboxgl.Popup()
								.setLngLat(features[0].geometry.coordinates)
								.setHTML(popupHTML)
								.addTo(map);
							}
						});

});





</script>

</body>
</html>

